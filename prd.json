{
  "project": "terraform-provider-tg",
  "branchName": "gh/141/permissions-resources",
  "description": "Permissions Resources and Data Sources - Add support for managing Users, Group Memberships, Service Users, and Policies via Terraform.",
  "userStories": [
    {
      "id": "US-001",
      "title": "Implement Policy Resource and Data Sources",
      "description": "As an admin, I want to define access control policies using structured HCL so that I can reuse them across service users.",
      "acceptanceCriteria": [
        "Implement `resource \"tg_policy\"` with structured HCL blocks (statement, action, effect, resource, condition)",
        "Implement `data \"tg_policy\"` to look up by ID or Name",
        "Implement `data \"tg_policies\"` to list all policies with optional filtering",
        "Add unit tests/acceptance tests for Policy resource and data sources",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "✅ Completed: Resource tg_policy was already implemented. Added data sources tg_policy (lookup by name) and tg_policies (list all with optional name filtering). Added comprehensive acceptance tests. Build and typecheck pass successfully."
    },
    {
      "id": "US-002",
      "title": "Implement User Resource and Data Sources",
      "description": "As an admin, I want to manage Trustgrid users via Terraform so I can provision and update user accounts automatically.",
      "acceptanceCriteria": [
        "Implement `resource \"tg_user\"` (Create, Read, Update, Delete) - ignoring invites",
        "Implement `data \"tg_user\"` to look up by ID or Email",
        "Implement `data \"tg_users\"` to list users with filtering",
        "Add unit tests/acceptance tests for User resource and data sources",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "✅ Completed: Implemented tg_user resource with full CRUD operations supporting email, first_name, last_name, phone, admin, and active fields. Added tg_user data source with lookup by UID or email. Added tg_users data source with filtering by email, admin status, and active status. Created comprehensive acceptance tests covering all operations and both data sources. Unit tests for HCL conversion pass. Go build, go vet, and unit tests all pass successfully."
    },
    {
      "id": "US-003",
      "title": "Implement Group Membership Resource",
      "description": "As an admin, I want to manage group memberships separately from the group definition to avoid conflicts.",
      "acceptanceCriteria": [
        "Implement `resource \"tg_group_membership\"` linking `group_id` and `user_id`",
        "Support creating (adding user) and deleting (removing user) memberships",
        "Add unit tests/acceptance tests for Group Membership resource",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Implement Service User Resource and Data Sources",
      "description": "As an admin, I want to provision Service Users for automation purposes without managing their keys in Terraform.",
      "acceptanceCriteria": [
        "Implement `resource \"tg_service_user\"` (Create, Read, Update, Delete)",
        "Support assigning Policies to Service Users via `policy_ids`",
        "Implement `data \"tg_service_user\"` to look up by ID or Name",
        "Implement `data \"tg_service_users\"` to list service users",
        "Ensure API keys are NOT managed/returned by this resource",
        "Add unit tests/acceptance tests for Service User resource and data sources",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    }
  ]
}
